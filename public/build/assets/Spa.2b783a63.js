import{g as v}from"./global.eaa65146.js";import{_ as g,r as y,o as l,c,a as s,F as d,b as _,f as k,e as u,j as h,g as f,t as a,d as S,w,k as x,p as L,l as R}from"./app.c7b1b837.js";const E={name:"Spa",setup(){const{state:e}=v;return{state:e}},data(){return{filterList:[],types:[],districts:[],republics:[],cities:[],spa:[]}},methods:{getSpa(){this.axios.post("/api/spa",{}).then(e=>{this.spa=e.data.data}).catch(e=>{commit("SET_LOAD_ERROR")})},getFilter(){this.axios.post("/api/spa",{types:this.types,districts:this.districts,republics:this.republics,cities:this.cities}).then(e=>{this.state.city="",this.state.type="",this.state.district="",this.state.republic="",this.spa=e.data.data}).catch(e=>{commit("SET_LOAD_ERROR")})},getFilterList(){this.axios.get("/api/spa/filters").then(e=>{this.filterList=e.data}).catch(e=>{commit("SET_LOAD_ERROR")})},getSearch(){const e=localStorage.getItem("person"),i=JSON.parse(e);this.state.city=i.city,this.state.type=i.type,this.state.district=i.district,this.state.republic=i.republic}},mounted(){this.getSpa(),this.getFilterList(),this.getSearch()}},p=e=>(L("data-v-ec3fb101"),e=e(),R(),e),O={class:"row"},V={class:"sort col col-12 col-md-2"},F=p(()=>s("img",{onclick:"openBlock('sort')",class:"sort-but",src:"src/assets/img/sort.svg"},null,-1)),I={id:"sort",class:"sort-items"},C={class:"sort-item"},D=p(()=>s("span",null,"\u0424\u0435\u0434\u0435\u0440\u0430\u043B\u044C\u043D\u044B\u0439 \u043E\u043A\u0440\u0443\u0433",-1)),N=["for"],B=["id","value"],T={class:"sort-item"},A=p(()=>s("span",null,"\u041E\u0431\u043B\u0430\u0441\u0442\u044C",-1)),U=["for"],M=["id","value"],j={class:"sort-item"},J=p(()=>s("span",null,"\u0413\u043E\u0440\u043E\u0434",-1)),q=["for"],z=["id","value"],G={class:"catalog-list col col-12 col-md-10"},H={class:"list"},K={class:"item fadeInRight wow","data-wow-offset":"0","data-wow-delay":"0.2s","data-wow-duration":"1s"},P={key:0},Q={class:"item-img"},W=["src"],X={class:"list-item-descr"},Y={class:"company"},Z=["src"],$=["href"];function tt(e,i,st,n,o,m){const b=y("router-link");return l(),c("div",null,[s("div",O,[s("div",V,[F,s("div",I,[s("div",C,[D,s("form",null,[(l(!0),c(d,null,_(o.filterList.districts,t=>(l(),c("label",{for:t.id,class:"d-block"},[u(s("input",{id:t.id,type:"checkbox",name:"federal","onUpdate:modelValue":i[0]||(i[0]=r=>o.districts=r),value:t.id},null,8,B),[[h,o.districts]]),f(" "+a(t.title),1)],8,N))),256))])]),s("div",T,[A,s("form",null,[(l(!0),c(d,null,_(o.filterList.republics,t=>(l(),c("label",{for:"republic"+t.id,class:"d-block"},[u(s("input",{id:"republic"+t.id,type:"checkbox",name:"district","onUpdate:modelValue":i[1]||(i[1]=r=>o.republics=r),value:t.id},null,8,M),[[h,o.republics]]),f(" "+a(t.title),1)],8,U))),256))])]),s("div",j,[J,s("form",null,[(l(!0),c(d,null,_(o.filterList.cities,t=>(l(),c("label",{for:"city"+t.id,class:"d-block"},[u(s("input",{id:"city"+t.id,type:"checkbox",name:"city","onUpdate:modelValue":i[2]||(i[2]=r=>o.cities=r),value:t.id},null,8,z),[[h,o.cities]]),f(" "+a(t.title),1)],8,q))),256))])]),s("button",{onClick:i[3]||(i[3]=k(t=>m.getFilter(),["prevent"])),type:"submit"},"\u041D\u0430\u0439\u0442\u0438")])]),s("div",G,[s("div",H,[(l(!0),c(d,null,_(o.spa,t=>(l(),c("div",K,[n.state.city===t.city_id&&n.state.district===t.district_id&&n.state.republic===t.republic_id||n.state.city===""&&n.state.district===""&&n.state.republic===""||o.cities===t.city_id&&o.districts===t.district_id&&o.republics===t.republic_id?(l(),c("div",P,[S(b,{to:"/spa/"+t.id,class:"d-flex"},{default:w(()=>[s("div",Q,[s("img",{src:t.image_url},null,8,W)]),s("div",X,[s("h2",null,a(t.title),1),s("p",null,a(t.desc),1),s("ul",null,[(l(!0),c(d,null,_(t.tags,r=>(l(),c("li",null,a(r.title),1))),256))]),s("div",Y,[s("img",{class:"logo",src:t.logo_url},null,8,Z),s("a",{href:t.link},[s("p",null,a(t.name_link),1)],8,$)])])]),_:2},1032,["to"])])):x("",!0)]))),256))])])])])}const ot=g(E,[["render",tt],["__scopeId","data-v-ec3fb101"]]);export{ot as default};
